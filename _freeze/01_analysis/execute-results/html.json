{
  "hash": "93cbb24a3fef18b493bf6365a41d38a4",
  "result": {
    "markdown": "---\ntitle: \"Analysis\"\ncode-fold: true\nfig-dpi: 600\n---\n\n\n## Background\n\nThis is the data exploration and analysis for the manuscript.\n\n## Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n{ # load necessary packages & preferred settings\n  library(tidyverse)\n  library(viridis)\n  library(devtools)\n  \n  theme_set(theme_light())}\n```\n:::\n\n\n## Load Cleaned Data\nThe following code uses the datasets created in the Initial Exploration that precedes the Analysis section. The datasets are saved to CSV as `data/2025-12-23_csp-pub.csv` (each row is a unique citizen science project-publication combination) and `data/2025-09-24_pub.csv` (each row is an individual publication).  \n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# Unique citizen science project-publication combinations (N = 377)\ndf_csp = read_csv(\"data/2025-12-23_csp-pub.csv\")\n\n# Individual publications (N = 277)\ndf_pub = read_csv(\"data/2025-09-24_pub.csv\")\n```\n:::\n\n\n## Data Exploration\n### Citizen Science Projects\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(cs_project_grouped) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 9 × 2\n  cs_project_grouped count\n  <chr>              <int>\n1 infrequent           132\n2 BBS                   85\n3 eBird                 45\n4 BBA                   34\n5 CBC                   28\n6 MMP                   22\n7 CMMN                  11\n8 NHS                   10\n9 PFW                   10\n```\n:::\n:::\n\n\n### Citizen Science Terminology\n\n::: {.cell}\n\n:::\n\n\n### Number of Citizen Science Projects\n\n::: {.cell}\n\n```{.r .cell-code}\n# all counts\ndf_pub %>% \n  group_by(cs_count) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 2\n  cs_count count\n     <dbl> <int>\n1        1   220\n2        2    37\n3        3    15\n4        4     1\n5        6     1\n6        7     1\n7       10     1\n8       11     1\n```\n:::\n\n```{.r .cell-code}\n# one use vs 2+ uses\ndf_pub %>% \n  mutate(cs_count_group = case_when(\n    cs_count == 1 ~ \"1\",\n    cs_count >= 2 ~ \"2+\"\n    )) %>% \n  group_by(cs_count_group) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  cs_count_group count\n  <chr>          <int>\n1 1                220\n2 2+                57\n```\n:::\n:::\n\n\n**Is there a change in how many citizen science projects are used per publication over time?**\\\n\\\n*Logistic regression model (1 = multiple data sets, 0 = single dataset)*\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_pub$multiple_datasets = ifelse(df_pub$cs_count >= 2, 1, 0)\n\nmodel_logit_multi = glm(multiple_datasets ~ publication_year, family = binomial, data = df_pub)\n\nsummary(model_logit_multi)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = multiple_datasets ~ publication_year, family = binomial, \n    data = df_pub)\n\nCoefficients:\n                  Estimate Std. Error z value Pr(>|z|)\n(Intercept)      -48.25447   32.45714  -1.487    0.137\npublication_year   0.02329    0.01611   1.446    0.148\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 281.60  on 276  degrees of freedom\nResidual deviance: 279.35  on 275  degrees of freedom\nAIC: 283.35\n\nNumber of Fisher Scoring iterations: 4\n```\n:::\n:::\n\n\n**Which projects are used most frequently on their own? Which most frequently alongside others?**\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  count(cs_count, cs_project_grouped) %>% \n  tidyr::pivot_wider(\n    names_from = cs_project_grouped,\n    values_from = n,\n    values_fill = 0\n  ) %>% \n  janitor::adorn_totals(c(\"row\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n cs_count BBA BBS CBC CMMN MMP NHS PFW eBird infrequent\n        1  22  62  12    4  13   9   4    17         77\n        2   7  14   8    3   1   0   1    18         22\n        3   2   5   5    1   7   1   2     7         15\n        4   1   0   0    0   0   0   0     0          3\n        6   0   1   1    1   0   0   1     1          1\n        7   0   1   0    1   0   0   1     2          2\n       10   1   1   1    0   0   0   0     0          7\n       11   1   1   1    1   1   0   1     0          5\n    Total  34  85  28   11  22  10  10    45        132\n```\n:::\n:::\n\n\n### Transparency\n**Is citizen science acknowledged at all in the publication?**\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  mutate(y_n = case_when(\n    transp_rank == 0 ~ \"No\",\n    transp_rank >= 1 ~ \"Yes\"))%>% \n  group_by(y_n) %>% \n  summarise(count = n())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  y_n   count\n  <chr> <int>\n1 No       97\n2 Yes     280\n```\n:::\n:::\n\n**What is the frequency of transparent vs not transparent attribution cases for each citizen science project?**\n\n::: {.cell}\n\n```{.r .cell-code}\ntransp_rank_crosstab = \ndf_csp %>% \n  group_by(rank_group, \n           cs_project_grouped) %>% \n  summarise(count = n(), .groups = \"drop\") %>% \n  spread(cs_project_grouped, count, fill = 0)\n\ntransp_rank_crosstab\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 10\n  rank_group        BBA   BBS   CBC  CMMN eBird infrequent   MMP   NHS   PFW\n  <chr>           <dbl> <dbl> <dbl> <dbl> <dbl>      <dbl> <dbl> <dbl> <dbl>\n1 Not transparent    23    56    16     9    18         42     8    10     2\n2 Transparent        11    29    12     2    27         90    14     0     8\n```\n:::\n\n```{.r .cell-code}\nchi_test_result = chisq.test(transp_rank_crosstab[ , -1], simulate.p.value = T)\nprint(chi_test_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's Chi-squared test with simulated p-value (based on 2000\n\treplicates)\n\ndata:  transp_rank_crosstab[, -1]\nX-squared = 52.144, df = NA, p-value = 0.0004998\n```\n:::\n\n```{.r .cell-code}\ndf_csp %>%\n  count(cs_project_grouped, \n        rank_group, \n        name = \"count\") %>% # Count observations per category\n  ggplot(aes(x = reorder(cs_project_grouped, \n                         count), # reorder columns by desc count\n             y = count, \n             fill = rank_group)) +  \n  geom_bar(stat = \"identity\") +  \n  labs(x = \"Citizen Science Project\", \n       y = \"Number of Cases\") +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\", \n                               \"Not transparent\" = \"#156082\")) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](01_analysis_files/figure-html/unnamed-chunk-10-1.png){width=4200}\n:::\n:::\n\n\n## Visualizations\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(publication_year, transparency_bin) %>%\n  summarise(count = n(), .groups = \"drop\") %>%\n  mutate(status = ifelse(transparency_bin == 1, \"Transparent\", \"Not Transparent\")) %>%\n  ggplot(aes(x = factor(publication_year),\n             y = count,\n             fill = status)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Publication Year\",\n       y = \"Number of Cases\") +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\",\n                               \"Not Transparent\" = \"#156082\")) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 60, hjust = 1),\n        legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](01_analysis_files/figure-html/unnamed-chunk-11-1.png){width=4200}\n:::\n:::\n\n## Main Figure\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(publication_year, transparency_bin) %>%\n  summarise(count = n(), .groups = \"drop\") %>%\n  mutate(status = ifelse(transparency_bin == 1, \"Transparent\", \"Not Transparent\")) %>%\n  ggplot(aes(x = publication_year,\n             y = count,\n             fill = status)) +\n  geom_area(alpha = 0.8) +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\",\n                               \"Not Transparent\" = \"#156082\")) +\n  labs(x = \"Publication Year\",\n       y = \"Number of Cases\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](01_analysis_files/figure-html/unnamed-chunk-12-1.png){width=4200}\n:::\n:::\n",
    "supporting": [
      "01_analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}