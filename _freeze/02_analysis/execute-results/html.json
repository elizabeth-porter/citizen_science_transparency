{
  "hash": "acfc377bbe3a91ea1814fe0b4154070f",
  "result": {
    "markdown": "---\ntitle: \"Analysis\"\ncode-fold: true\nfig-dpi: 600\n---\n\n\n## Background\n\nThis is the data exploration and analysis for the manuscript.\n\n## Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# load necessary packages & preferred settings\n  library(tidyverse)\n  library(viridis)\n\n  theme_set(theme_light())\n```\n:::\n\n\n## Load Cleaned Data\nThe following code uses the datasets created in the Initial Exploration that precedes the Analysis section. The datasets are saved to CSV as `data/csp_publication.csv` (each row is a unique citizen science project-publication combination) and `data/publication.csv` (each row is an individual publication).  \n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# Unique citizen science project-publication combinations (N = 377)\ndf_csp = read_csv(\"data/csp_publication_clean.csv\")\n\n# Individual publications (N = 277)\ndf_pub = read_csv(\"data/publication_clean.csv\")\n```\n:::\n\n\n## Data Exploration\n### Citizen Science Projects\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(cs_project_grouped) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 9 × 2\n  cs_project_grouped count\n  <chr>              <int>\n1 infrequent           132\n2 BBS                   85\n3 eBird                 45\n4 BBA                   34\n5 CBC                   28\n6 MMP                   22\n7 CMMN                  11\n8 NHS                   10\n9 PFW                   10\n```\n:::\n:::\n\n\n### Citizen Science Terminology\n\n::: {.cell}\n\n:::\n\n\n### Number of Citizen Science Projects\n\n::: {.cell}\n\n```{.r .cell-code}\n# all counts\ndf_pub %>% \n  group_by(cs_count) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 2\n  cs_count count\n     <dbl> <int>\n1        1   220\n2        2    37\n3        3    15\n4        4     1\n5        6     1\n6        7     1\n7       10     1\n8       11     1\n```\n:::\n\n```{.r .cell-code}\n# one use vs 2+ uses\ndf_pub %>% \n  mutate(cs_count_group = case_when(\n    cs_count == 1 ~ \"1\",\n    cs_count >= 2 ~ \"2+\"\n    )) %>% \n  group_by(cs_count_group) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  print(n = \"all\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  cs_count_group count\n  <chr>          <int>\n1 1                220\n2 2+                57\n```\n:::\n:::\n\n\n**Is there a change in how many citizen science projects are used per publication over time?**\\\n\\\n*Logistic regression model (1 = multiple data sets, 0 = single dataset)*\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_pub$multiple_datasets = ifelse(df_pub$cs_count >= 2, 1, 0)\n\nmodel_logit_multi = glm(multiple_datasets ~ publication_year, family = binomial, data = df_pub)\n\nsummary(model_logit_multi)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = multiple_datasets ~ publication_year, family = binomial, \n    data = df_pub)\n\nCoefficients:\n                  Estimate Std. Error z value Pr(>|z|)\n(Intercept)      -48.25447   32.45714  -1.487    0.137\npublication_year   0.02329    0.01611   1.446    0.148\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 281.60  on 276  degrees of freedom\nResidual deviance: 279.35  on 275  degrees of freedom\nAIC: 283.35\n\nNumber of Fisher Scoring iterations: 4\n```\n:::\n:::\n\n\n**Which projects are used most frequently on their own? Which most frequently alongside others?**\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  count(cs_count, cs_project_grouped) %>% \n  tidyr::pivot_wider(\n    names_from = cs_project_grouped,\n    values_from = n,\n    values_fill = 0\n  ) %>% \n  janitor::adorn_totals(c(\"row\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n cs_count BBA BBS CBC CMMN MMP NHS PFW eBird infrequent\n        1  22  62  12    4  13   9   4    17         77\n        2   7  14   8    3   1   0   1    18         22\n        3   2   5   5    1   7   1   2     7         15\n        4   1   0   0    0   0   0   0     0          3\n        6   0   1   1    1   0   0   1     1          1\n        7   0   1   0    1   0   0   1     2          2\n       10   1   1   1    0   0   0   0     0          7\n       11   1   1   1    1   1   0   1     0          5\n    Total  34  85  28   11  22  10  10    45        132\n```\n:::\n:::\n\n\n### Transparency\n**Is citizen science acknowledged at all in the publication?**\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n    mutate(y_n = case_when(\n    transp_score == 0 ~ \"No\",\n    transp_score >= 1 ~ \"Yes\"))%>% \n  group_by(y_n) %>% \n  summarise(count = n())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  y_n   count\n  <chr> <int>\n1 No       97\n2 Yes     280\n```\n:::\n:::\n\n**How many project-publication cases are transparent?**\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(transp_group) %>% \n  summarise(count = n())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  transp_group    count\n  <chr>           <int>\n1 Not transparent   184\n2 Transparent       193\n```\n:::\n:::\n\n\n**What is the frequency of transparent vs not transparent attribution cases for each citizen science project?** \n\n::: {.cell}\n\n```{.r .cell-code}\ntransp_group_crosstab = \ndf_csp %>% \n  group_by(transp_group, \n           cs_project_grouped) %>% \n  summarise(count = n(), .groups = \"drop\") %>% \n  spread(cs_project_grouped, count, fill = 0)\n\ntransp_group_crosstab\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 10\n  transp_group      BBA   BBS   CBC  CMMN eBird infrequent   MMP   NHS   PFW\n  <chr>           <dbl> <dbl> <dbl> <dbl> <dbl>      <dbl> <dbl> <dbl> <dbl>\n1 Not transparent    23    56    16     9    18         42     8    10     2\n2 Transparent        11    29    12     2    27         90    14     0     8\n```\n:::\n\n```{.r .cell-code}\nchi_test_result = chisq.test(transp_group_crosstab[ , -1], simulate.p.value = T)\nprint(chi_test_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's Chi-squared test with simulated p-value (based on 2000\n\treplicates)\n\ndata:  transp_group_crosstab[, -1]\nX-squared = 52.144, df = NA, p-value = 0.0004998\n```\n:::\n\n```{.r .cell-code}\ndf_csp %>%\n  count(cs_project_grouped, \n        transp_group, \n        name = \"count\") %>% # Count observations per category\n  ggplot(aes(x = reorder(cs_project_grouped, \n                         count), # reorder columns by desc count\n             y = count, \n             fill = transp_group)) +  \n  geom_bar(stat = \"identity\") +  \n  labs(x = \"Citizen Science Project\", \n       y = \"Number of Cases\") +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\", \n                               \"Not transparent\" = \"#156082\")) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](02_analysis_files/figure-html/unnamed-chunk-11-1.png){width=4200}\n:::\n:::\n\n**What is the frequeny of publications over time?**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(publication_year, transp_binary) %>%\n  summarise(count = n(), .groups = \"drop\") %>%\n  mutate(status = ifelse(transp_binary == 1, \"Transparent\", \"Not Transparent\")) %>%\n  ggplot(aes(x = factor(publication_year),\n             y = count,\n             fill = status)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Publication Year\",\n       y = \"Number of Cases\") +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\",\n                               \"Not Transparent\" = \"#156082\")) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 60, hjust = 1),\n        legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](02_analysis_files/figure-html/unnamed-chunk-12-1.png){width=4200}\n:::\n:::\n\n## Logistic Regressions \n### 1) Transparency ~ Publication Year\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_1 = glm(transp_binary ~ publication_year, \n              data = df_csp, \n              family = binomial)\n\nsummary(model_1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = transp_binary ~ publication_year, family = binomial, \n    data = df_csp)\n\nCoefficients:\n                   Estimate Std. Error z value Pr(>|z|)    \n(Intercept)      -122.06831   24.41341  -5.000 5.73e-07 ***\npublication_year    0.06065    0.01212   5.003 5.64e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 522.42  on 376  degrees of freedom\nResidual deviance: 493.89  on 375  degrees of freedom\nAIC: 497.89\n\nNumber of Fisher Scoring iterations: 4\n```\n:::\n:::\n\n\n### 2) Transparency ~ Publication Year + Citizen Science Project\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_2 = glm(transp_binary ~ publication_year + cs_project_grouped, \n              data = df_csp, \n              family = binomial)\n\nsummary(model_2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = transp_binary ~ publication_year + cs_project_grouped, \n    family = binomial, data = df_csp)\n\nCoefficients:\n                               Estimate Std. Error z value Pr(>|z|)    \n(Intercept)                  -114.84386   26.31226  -4.365 1.27e-05 ***\npublication_year                0.05669    0.01307   4.339 1.43e-05 ***\ncs_project_groupedBBS           0.09293    0.44176   0.210 0.833391    \ncs_project_groupedCBC           0.59036    0.54664   1.080 0.280153    \ncs_project_groupedCMMN         -0.88072    0.87373  -1.008 0.313453    \ncs_project_groupedeBird         0.84469    0.49032   1.723 0.084938 .  \ncs_project_groupedinfrequent    1.50748    0.42219   3.571 0.000356 ***\ncs_project_groupedMMP           1.04899    0.58506   1.793 0.072979 .  \ncs_project_groupedNHS         -15.31162  687.13061  -0.022 0.982222    \ncs_project_groupedPFW           2.14066    0.88539   2.418 0.015616 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 522.42  on 376  degrees of freedom\nResidual deviance: 444.90  on 367  degrees of freedom\nAIC: 464.9\n\nNumber of Fisher Scoring iterations: 15\n```\n:::\n\n```{.r .cell-code}\n# Compare model_1 & model_2\nanova(model_1, model_2, test = \"Chisq\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table\n\nModel 1: transp_binary ~ publication_year\nModel 2: transp_binary ~ publication_year + cs_project_grouped\n  Resid. Df Resid. Dev Df Deviance  Pr(>Chi)    \n1       375     493.89                          \n2       367     444.90  8   48.995 6.373e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\n### 3) Transparency ~ Publication Year * Citizen Science Project\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_3 = glm(transp_binary ~ publication_year * cs_project_grouped, \n              data = df_csp, \n              family = binomial)\n\nsummary(model_3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = transp_binary ~ publication_year * cs_project_grouped, \n    family = binomial, data = df_csp)\n\nCoefficients:\n                                                Estimate Std. Error z value\n(Intercept)                                   -2.736e+02  1.280e+02  -2.138\npublication_year                               1.355e-01  6.351e-02   2.134\ncs_project_groupedBBS                          1.620e+02  1.403e+02   1.155\ncs_project_groupedCBC                          5.740e+01  1.621e+02   0.354\ncs_project_groupedCMMN                        -9.553e+02  1.195e+03  -0.800\ncs_project_groupedeBird                       -3.267e+01  1.837e+02  -0.178\ncs_project_groupedinfrequent                   2.143e+02  1.330e+02   1.611\ncs_project_groupedMMP                          5.264e+02  2.497e+02   2.108\ncs_project_groupedNHS                          2.570e+02  9.155e+04   0.003\ncs_project_groupedPFW                          1.153e+02  2.599e+02   0.444\npublication_year:cs_project_groupedBBS        -8.039e-02  6.964e-02  -1.154\npublication_year:cs_project_groupedCBC        -2.813e-02  8.047e-02  -0.350\npublication_year:cs_project_groupedCMMN        4.724e-01  5.911e-01   0.799\npublication_year:cs_project_groupedeBird       1.644e-02  9.105e-02   0.181\npublication_year:cs_project_groupedinfrequent -1.057e-01  6.602e-02  -1.601\npublication_year:cs_project_groupedMMP        -2.605e-01  1.238e-01  -2.105\npublication_year:cs_project_groupedNHS        -1.355e-01  4.574e+01  -0.003\npublication_year:cs_project_groupedPFW        -5.613e-02  1.292e-01  -0.435\n                                              Pr(>|z|)  \n(Intercept)                                     0.0325 *\npublication_year                                0.0329 *\ncs_project_groupedBBS                           0.2482  \ncs_project_groupedCBC                           0.7232  \ncs_project_groupedCMMN                          0.4240  \ncs_project_groupedeBird                         0.8588  \ncs_project_groupedinfrequent                    0.1072  \ncs_project_groupedMMP                           0.0350 *\ncs_project_groupedNHS                           0.9978  \ncs_project_groupedPFW                           0.6574  \npublication_year:cs_project_groupedBBS          0.2483  \npublication_year:cs_project_groupedCBC          0.7267  \npublication_year:cs_project_groupedCMMN         0.4242  \npublication_year:cs_project_groupedeBird        0.8568  \npublication_year:cs_project_groupedinfrequent   0.1095  \npublication_year:cs_project_groupedMMP          0.0353 *\npublication_year:cs_project_groupedNHS          0.9976  \npublication_year:cs_project_groupedPFW          0.6639  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 522.42  on 376  degrees of freedom\nResidual deviance: 429.40  on 359  degrees of freedom\nAIC: 465.4\n\nNumber of Fisher Scoring iterations: 15\n```\n:::\n\n```{.r .cell-code}\n# Compare model_2 & model_3\nanova(model_2, model_3, test = \"Chisq\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalysis of Deviance Table\n\nModel 1: transp_binary ~ publication_year + cs_project_grouped\nModel 2: transp_binary ~ publication_year * cs_project_grouped\n  Resid. Df Resid. Dev Df Deviance Pr(>Chi)  \n1       367      444.9                       \n2       359      429.4  8   15.493  0.05023 .\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\n### 4) Transparency ~ Publication Year + Citizen Science Project + Journal Impact Factor\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_4 = glm(transp_binary ~ publication_year + cs_project_grouped + jif, \n              data = df_csp, \n              family = binomial)\n\nsummary(model_4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = transp_binary ~ publication_year + cs_project_grouped + \n    jif, family = binomial, data = df_csp)\n\nCoefficients:\n                               Estimate Std. Error z value Pr(>|z|)    \n(Intercept)                  -106.92368   29.35552  -3.642 0.000270 ***\npublication_year                0.05256    0.01461   3.598 0.000321 ***\ncs_project_groupedBBS           0.40149    0.48215   0.833 0.405007    \ncs_project_groupedCBC           0.87315    0.59269   1.473 0.140697    \ncs_project_groupedCMMN         -0.45748    0.90705  -0.504 0.614005    \ncs_project_groupedeBird         1.15436    0.53684   2.150 0.031532 *  \ncs_project_groupedinfrequent    1.73957    0.47202   3.685 0.000228 ***\ncs_project_groupedMMP           1.37015    0.62233   2.202 0.027689 *  \ncs_project_groupedNHS         -15.17860  750.89350  -0.020 0.983873    \ncs_project_groupedPFW           2.44336    0.90769   2.692 0.007106 ** \njif                             0.04246    0.06674   0.636 0.524673    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 487.93  on 351  degrees of freedom\nResidual deviance: 417.25  on 341  degrees of freedom\n  (25 observations deleted due to missingness)\nAIC: 439.25\n\nNumber of Fisher Scoring iterations: 15\n```\n:::\n:::\n\n\n## Main Figure\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_csp %>% \n  group_by(publication_year, transp_binary) %>%\n  summarise(count = n(), .groups = \"drop\") %>%\n  mutate(status = ifelse(transp_binary == 1, \"Transparent\", \"Not Transparent\")) %>%\n  ggplot(aes(x = publication_year,\n             y = count,\n             fill = status)) +\n  geom_area(alpha = 0.8) +\n  scale_fill_manual(values = c(\"Transparent\" = \"#ffc000\",\n                               \"Not Transparent\" = \"#156082\")) +\n  labs(x = \"Publication Year\",\n       y = \"Number of Cases\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](02_analysis_files/figure-html/unnamed-chunk-17-1.png){width=4200}\n:::\n:::\n",
    "supporting": [
      "02_analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}